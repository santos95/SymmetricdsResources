## CHANGE OR SET THE netplan config file
    cd /etc/netplan/

## EDIT THE FILE (FOR UBUNTU 22 IS 01.. )
     nano 01-network-manager-all.yaml

## THIS ONE SET A STATIC IP ADDRESS, NAMESERVERS (DNS), AND GATEWAY (routers default)
    # Let NetworkManager manage all devices on this system
    network:
    version: 2
    renderer: NetworkManager
    ethernets:
        enp0s3:
        addresses:
        - 192.168.1.40/24
        nameservers:
            addresses: [8.8.8.8, 8.8.4.4]
        routes:
            - to: default
            via: 192.168.1.1

## CHECH THE CONFIGURATION
    netplan try

## IF THE CONFIG IS CORRECT
    netplan apply   

## TO KEEP THE CONFIG OF THE DNS CHANGE THE resolv.conf file
    nano /etc/resolv.conf

## ADD THE DNS SERVERS THAT YOU WANT TO SET
    # Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
    # DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
    # 127.0.0.53 is the systemd-resolved stub resolver.
    # run "systemd-resolve --status" to see details about the actual nameservers.

    nameserver 8.8.8.8
    nameserver 8.8.4.4
    nameserver 127.0.0.53

## INSTALL resolvconf
    sudo apt install resolvconf
    sudo systemctl status resolvconf.service
    sudo systemctl start resolvconf.service
    sudo systemctl enable resolvconf.service

## EDIT THE head file
    nano /etc/resolvconf/resolv.conf.d/head

## restart the service 
    sudo systemctl restart resolvconf.service
    sudo systemctl restart systemd-resolved.service

## to check if everything is ok
    systemd-resolve --status


## testint - change the dns when the server do not have .yaml /etc/netplan

### CHANGE  nano /etc/network/interfaces remove and add the requiries dns servers ip
    nano /etc/network/interfaces

### RESTART 
    /etc/init.d/networking restart
    /etc/init.d/networking status

### RESTART systemctl restart systemd-resolved.service
    systemctl restart systemd-resolved.service

nameserver 10.11.12.13
nameserver 172.16.34.168
nameserver 172.16.34.169
search discasa.com.ni internal.inss.org sermesa.com.ni cruzazul.com.ni

10.11.12.13 172.16.34.168

search discasa.com.ni internal.inss.org sermesa.com.ni cruzazul.com.ni

search discasa.com.ni internal.inss.org sermesa.com.ni cruzazul.com.ni

search:
                - internal.inss.org
                - cruzazul.com.ni
                - discasa.com.ni
                - sermesa.com.ni

ping dscs-mg2-dbctr.discasa.com.ni
nslookup dscs-mg2-dbctr.discasa.com.ni
ping dscs-mg2-jsrv.discasa.com.ni
nslookup dscs-mg2-jsrv.discasa.com.ni
ping dscs-mg2-ctlemp.discasa.com.ni
ping inss-mg7-stronce-data.internal.inss.org
nslookup inss-mg7-stronce-data.internal.inss.org

10.11.12.13 172.16.34.168

10.11.12.13
172.16.34.168
172.16.34.169
172.16.34.168
172.16.34.169
172.16.34.166 -- sermesa 1
172.16.34.167 -- sermesa 2

172.16.22.138
[172.16.22.138, 172.16.39.6]

nameserver 10.11.12.13
nameserver 172.16.34.168


nameserver 172.16.34.168
nameserver 172.16.34.169
nameserver 10.11.12.13
search internal.inss.org discasa.com.ni sermesa.com.ni


nameserver 10.11.12.13
nameserver 172.16.34.168
nameserver 127.0.0.53


